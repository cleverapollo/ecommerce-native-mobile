<ion-header class="ion-no-border">
  <ion-toolbar mode="ios">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>
      <img src="assets/icon/wantic-logo.svg" alt="Wantic Logo" />
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <h1 class="ion-text-center wantic-page-header">{{ title }}</h1>

  <div class="image-container">
    <ion-img *ngIf="wish.imageUrl" [src]="wish.imageUrl"></ion-img>
  </div>

  <form [formGroup]="form">

    <!--name-->
    <ion-item lines="none">
      <ion-label position="stacked">Name</ion-label>
      <ion-textarea formControlName="name"></ion-textarea>
    </ion-item>
    <app-validation-messages [control]="form.get('name')" [validationMessages]="validationMessages.name"></app-validation-messages>

    <!--price-->
    <ion-item lines="none">
      <ion-label position="stacked">Preis</ion-label>
      <ion-input type="text" formControlName="price"></ion-input>
    </ion-item>
    <app-validation-messages [control]="form.get('price')" [validationMessages]="validationMessages.price"></app-validation-messages>

    <!--wish list id-->
    <section *ngIf="!isUpdatePage">
      <p class="wantic-margin-right-left">Wähle deine Wunschliste</p>
      <div class="wantic-radio-group-container wantic-margin-right-left">
        <div class="inputGroup" [ngClass]="{ 'border-top-right-left': isFirst }" *ngFor="let option of wishListSelectOptions; first as isFirst">
          <input  [id]="option.id" type="radio" [value]="option.id" formControlName="wishListId"/>
          <label [for]="option.id">{{ option.name }}</label>
        </div>
        <div class="container-add-new-wish-list">
          <img src="./assets/icon/wantic-add.svg" alt="Hinzufügen Icon"/>
          <label>Neue Wunschliste anlegen</label>
        </div>
      </div>
      <app-validation-messages [control]="form.get('wishListId')" [validationMessages]="validationMessages.wishListId"></app-validation-messages>
    </section>

  </form>

  <ion-button *ngIf="form" class="wantic-save-button" (click)="createOrUpdateWish()" color="primary" expand="block" [disabled]="!form.valid">
    WUNSCH SPEICHERN
  </ion-button>
  <ion-button *ngIf="form && isUpdatePage" class="wantic-save-button" (click)="deleteWish()" color="primary" expand="block" fill="outline">
    WUNSCH LÖSCHEN
  </ion-button>

</ion-content>
