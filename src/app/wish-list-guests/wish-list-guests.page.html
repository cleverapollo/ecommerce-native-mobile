<ion-header no-border>
  <ion-toolbar mode="ios">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>
      <img src="assets/icon/wantic-logo.svg" alt="Wantic Logo" />
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <h1 class="ion-text-center wantic-page-header">Gäste deiner Wunschliste</h1>

  <ion-list>
    <ion-list-header>
      Geteilt mit
    </ion-list-header>

    <ion-item>
      <ion-avatar slot="start">
        <img src="assets/images/avatar-placeholder.jpg">
      </ion-avatar>
      <ion-label>
        <h2>Maria</h2>
      </ion-label>
      <ion-icon slot="end" src="assets/icon/icon-minus.svg" (click)="deleteGuest()" color="primary"></ion-icon>
    </ion-item>

    <ion-item>
      <ion-avatar slot="start">
        <img src="assets/images/avatar-placeholder.jpg">
      </ion-avatar>
      <ion-label>
        <h2>Pia</h2>
        <h3><i>ausstehend</i></h3>
      </ion-label>
      <ion-icon slot="end" src="assets/icon/icon-minus.svg" (click)="deleteGuest()" color="primary"></ion-icon>
    </ion-item>
  </ion-list>

  <ion-list>
    <ion-list-header>
      Neuen Gast hinzufügen
    </ion-list-header>

    <ion-item *ngFor="let guest of newGuests">
      <ion-avatar slot="start">
        <img src="assets/images/avatar-placeholder.jpg">
      </ion-avatar>
      <ion-label>
        <h2>{{ guest.displayName }}</h2>
        <h3>{{ guest.email }}</h3>
      </ion-label>
      <ion-icon slot="end" src="assets/icon/icon-minus.svg" (click)="deleteNewGuest(guest)" color="primary"></ion-icon>
    </ion-item>
  </ion-list>

  <form [formGroup]="newGuestForm" *ngIf="newGuestForm" (ngSubmit)="addNewGuest()">
    <ion-item lines="none">
      <ion-input formControlName="displayName" type="text" placeholder="Name des Gastes"></ion-input>
    </ion-item>
    <app-validation-messages [control]="newGuestForm.get('displayName')" [validationMessages]="validationMessages.displayName"></app-validation-messages>
  
    <ion-item lines="none">
      <ion-input formControlName="email" type="email" placeholder="E-Mail Adresse deines Gastes"></ion-input>
    </ion-item>
    <app-validation-messages [control]="newGuestForm.get('email')" [validationMessages]="validationMessages.email"></app-validation-messages>
  
    <ion-button class="add-button" type="submit" color="primary" expand="block" size="small" fill="outline" [disabled]="!newGuestForm.valid">
      <ion-icon src="assets/icon/icon-plus.svg"></ion-icon>&nbsp;
      Hinzufügen
    </ion-button>
  </form>  

  <ion-button class="wantic-save-button" color="primary" expand="block" (click)="saveChanges()">
    ÄNDERUNGEN SPEICHERN
  </ion-button>
</ion-content>
