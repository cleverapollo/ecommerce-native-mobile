<ion-header class="ion-no-border">
  <ion-toolbar >
    <ion-buttons slot="start">
      <ion-button fill="clear" class="back-button" (click)="goBack()">
        <ion-icon slot="icon-only" src="assets/icon/arrow-left.svg"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title><img src="assets/icon/wantic-logo-s.svg"></ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <h1 class="ion-text-center wantic-page-header" *ngIf="!passwordChangedSuccessful"><strong>Neues Passwort <br> festlegen</strong></h1>
  <h1 class="ion-text-center wantic-page-header" *ngIf="passwordChangedSuccessful"><strong>Passwort <br> ge채ndert</strong></h1>
  <p class="subtext ion-text-center" *ngIf="!passwordChangedSuccessful">
    Bitte gib nun im letzten Schritt dein neues Passwort an.
  </p>
  <p class="subtext ion-text-center" *ngIf="passwordChangedSuccessful">
    Dein Passwort wurde erfolgreich ge채ndert. 
    Du kannst dich nun damit einloggen.
  </p>

  <form [formGroup]="form" *ngIf="form && !passwordChangedSuccessful">
    <ion-item lines="none">
      <ion-input formControlName="value" type="password" placeholder="Passwort"></ion-input>
    </ion-item>
    <app-validation-messages [control]="form.get('value')" [validationMessages]="validationMessages.password"></app-validation-messages>
    <ion-item lines="none">
      <ion-input formControlName="confirm" type="password" placeholder="Passwort wiederholen"></ion-input>
    </ion-item>
    <app-validation-messages [control]="form.get('confirm')" [validationMessages]="validationMessages.passwordConfirm"></app-validation-messages>
  </form>
</ion-content>

<ion-footer class="ion-no-border">
  <ion-button *ngIf="form && !passwordChangedSuccessful" class="wantic-save-button" expand="block" (click)="changePassword()" [disabled]="!form.valid">
    Passwort 채ndern
  </ion-button>
  <ion-button *ngIf="passwordChangedSuccessful" class="wantic-save-button" expand="block" (click)="navBackToLogin()">
    Zur체ck zum Login
  </ion-button>
</ion-footer>